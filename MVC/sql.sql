/****** Object:  Database [CafeGocNho_63134417]    Script Date: 13/10/2024 7:53:09 SA ******/
CREATE DATABASE [CafeGocNho_63134417]
 CONTAINMENT = NONE
 ON  PRIMARY 
( NAME = N'CafeGocNho_63134417', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL16.SQLEXPRESS\MSSQL\DATA\CafeGocNho_63134417.mdf' , SIZE = 8192KB , MAXSIZE = UNLIMITED, FILEGROWTH = 65536KB )
 LOG ON 
( NAME = N'CafeGocNho_63134417_log', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL16.SQLEXPRESS\MSSQL\DATA\CafeGocNho_63134417_log.ldf' , SIZE = 8192KB , MAXSIZE = 2048GB , FILEGROWTH = 65536KB )
 WITH CATALOG_COLLATION = DATABASE_DEFAULT, LEDGER = OFF
GO
ALTER DATABASE [CafeGocNho_63134417] SET COMPATIBILITY_LEVEL = 160
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [CafeGocNho_63134417].[dbo].[sp_fulltext_database] @action = 'enable'
end
GO
ALTER DATABASE [CafeGocNho_63134417] SET ANSI_NULL_DEFAULT OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET ANSI_NULLS OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET ANSI_PADDING OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET ANSI_WARNINGS OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET ARITHABORT OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET AUTO_CLOSE ON 
GO
ALTER DATABASE [CafeGocNho_63134417] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [CafeGocNho_63134417] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [CafeGocNho_63134417] SET CONCAT_NULL_YIELDS_NULL OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET QUOTED_IDENTIFIER OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET  ENABLE_BROKER 
GO
ALTER DATABASE [CafeGocNho_63134417] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [CafeGocNho_63134417] SET READ_COMMITTED_SNAPSHOT OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET HONOR_BROKER_PRIORITY OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET RECOVERY SIMPLE 
GO
ALTER DATABASE [CafeGocNho_63134417] SET  MULTI_USER 
GO
ALTER DATABASE [CafeGocNho_63134417] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [CafeGocNho_63134417] SET DB_CHAINING OFF 
GO
ALTER DATABASE [CafeGocNho_63134417] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
GO
ALTER DATABASE [CafeGocNho_63134417] SET TARGET_RECOVERY_TIME = 60 SECONDS 
GO
ALTER DATABASE [CafeGocNho_63134417] SET DELAYED_DURABILITY = DISABLED 
GO
ALTER DATABASE [CafeGocNho_63134417] SET ACCELERATED_DATABASE_RECOVERY = OFF  
GO
ALTER DATABASE [CafeGocNho_63134417] SET QUERY_STORE = ON
GO
ALTER DATABASE [CafeGocNho_63134417] SET QUERY_STORE (OPERATION_MODE = READ_WRITE, CLEANUP_POLICY = (STALE_QUERY_THRESHOLD_DAYS = 30), DATA_FLUSH_INTERVAL_SECONDS = 900, INTERVAL_LENGTH_MINUTES = 60, MAX_STORAGE_SIZE_MB = 1000, QUERY_CAPTURE_MODE = AUTO, SIZE_BASED_CLEANUP_MODE = AUTO, MAX_PLANS_PER_QUERY = 200, WAIT_STATS_CAPTURE_MODE = ON)
GO
/****** Object:  Table [dbo].[ADMIN]    Script Date: 13/10/2024 7:53:10 SA ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[ADMIN](
	[Email] [varchar](50) NOT NULL,
	[Admin] [bit] NOT NULL,
	[Ten] [nvarchar](50) NOT NULL,
	[Password] [varchar](50) NOT NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[BAN]    Script Date: 13/10/2024 7:53:10 SA ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[BAN](
	[MABAN] [int] NOT NULL,
	[TINHTRANG] [smallint] NULL,
 CONSTRAINT [PK_BAN] PRIMARY KEY CLUSTERED 
(
	[MABAN] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[CHITIETHOADON]    Script Date: 13/10/2024 7:53:10 SA ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CHITIETHOADON](
	[MAHD] [varchar](10) NOT NULL,
	[MAMH] [varchar](10) NOT NULL,
	[SOLUONG] [int] NULL,
	[GIACA] [int] NULL,
 CONSTRAINT [PK_CHITIETHOADON] PRIMARY KEY CLUSTERED 
(
	[MAHD] ASC,
	[MAMH] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[HOADON]    Script Date: 13/10/2024 7:53:10 SA ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[HOADON](
	[MAHD] [varchar](10) NOT NULL,
	[MABAN] [int] NULL,
	[MANV] [varchar](10) NULL,
	[THOIGIAN] [datetime] NULL,
 CONSTRAINT [PK_HOADON] PRIMARY KEY CLUSTERED 
(
	[MAHD] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[LOAIMATHANG]    Script Date: 13/10/2024 7:53:10 SA ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[LOAIMATHANG](
	[MALOAI] [varchar](10) NOT NULL,
	[TENLOAI] [nvarchar](30) NULL,
 CONSTRAINT [PK_LOAIMATHANG] PRIMARY KEY CLUSTERED 
(
	[MALOAI] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MENU]    Script Date: 13/10/2024 7:53:10 SA ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MENU](
	[MAMH] [varchar](10) NOT NULL,
	[TENMH] [nvarchar](200) NULL,
	[GIACA] [int] NULL,
	[DVT] [nvarchar](10) NULL,
	[MALOAI] [varchar](10) NULL,
 CONSTRAINT [PK_MENU] PRIMARY KEY CLUSTERED 
(
	[MAMH] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[NHANVIEN]    Script Date: 13/10/2024 7:53:10 SA ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[NHANVIEN](
	[MANV] [varchar](10) NOT NULL,
	[HONV] [nvarchar](50) NULL,
	[TENNV] [nvarchar](10) NULL,
	[EMAIL] [varchar](50) NULL,
	[DIACHI] [nvarchar](200) NULL,
	[MATKHAU] [varchar](50) NULL,
	[CHUCVU] [nvarchar](30) NULL,
	[GIOITINH] [smallint] NULL,
	[SDT] [varchar](15) NULL,
	[CCCD] [varchar](12) NULL,
 CONSTRAINT [PK_NHANVIEN] PRIMARY KEY CLUSTERED 
(
	[MANV] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
INSERT [dbo].[ADMIN] ([Email], [Admin], [Ten], [Password]) VALUES (N'lam@gmail.com', 1, N'Hải Lâm', N'123')
INSERT [dbo].[ADMIN] ([Email], [Admin], [Ten], [Password]) VALUES (N'hieu@gmail.com', 0, N'Hiệu', N'123')
INSERT [dbo].[ADMIN] ([Email], [Admin], [Ten], [Password]) VALUES (N'hoang@gmail.com', 0, N'Hoàng', N'123')
GO
INSERT [dbo].[BAN] ([MABAN], [TINHTRANG]) VALUES (1, 0)
INSERT [dbo].[BAN] ([MABAN], [TINHTRANG]) VALUES (2, 0)
INSERT [dbo].[BAN] ([MABAN], [TINHTRANG]) VALUES (3, 0)
INSERT [dbo].[BAN] ([MABAN], [TINHTRANG]) VALUES (4, 0)
INSERT [dbo].[BAN] ([MABAN], [TINHTRANG]) VALUES (5, 0)
INSERT [dbo].[BAN] ([MABAN], [TINHTRANG]) VALUES (6, 0)
INSERT [dbo].[BAN] ([MABAN], [TINHTRANG]) VALUES (7, 0)
INSERT [dbo].[BAN] ([MABAN], [TINHTRANG]) VALUES (8, 0)
INSERT [dbo].[BAN] ([MABAN], [TINHTRANG]) VALUES (9, 0)
INSERT [dbo].[BAN] ([MABAN], [TINHTRANG]) VALUES (10, 0)
GO
INSERT [dbo].[CHITIETHOADON] ([MAHD], [MAMH], [SOLUONG], [GIACA]) VALUES (N'HD0001', N'AVS005', 11, 23000)
INSERT [dbo].[CHITIETHOADON] ([MAHD], [MAMH], [SOLUONG], [GIACA]) VALUES (N'HD0001', N'DTS004', 11, 23000)
INSERT [dbo].[CHITIETHOADON] ([MAHD], [MAMH], [SOLUONG], [GIACA]) VALUES (N'HD0002', N'AVS005', 12, 20000)
INSERT [dbo].[CHITIETHOADON] ([MAHD], [MAMH], [SOLUONG], [GIACA]) VALUES (N'HD0003', N'BEO005', 21, 35000)
INSERT [dbo].[CHITIETHOADON] ([MAHD], [MAMH], [SOLUONG], [GIACA]) VALUES (N'HD0003', N'DTS005', 2, 25000)
INSERT [dbo].[CHITIETHOADON] ([MAHD], [MAMH], [SOLUONG], [GIACA]) VALUES (N'HD0004', N'AVS006', 1, 20000)
INSERT [dbo].[CHITIETHOADON] ([MAHD], [MAMH], [SOLUONG], [GIACA]) VALUES (N'HD0005', N'YOGURT001', 2, 32000)
INSERT [dbo].[CHITIETHOADON] ([MAHD], [MAMH], [SOLUONG], [GIACA]) VALUES (N'HD0006', N'DTS008', 1, 5000)
INSERT [dbo].[CHITIETHOADON] ([MAHD], [MAMH], [SOLUONG], [GIACA]) VALUES (N'HD0006', N'DTS009', 2, 5000)
INSERT [dbo].[CHITIETHOADON] ([MAHD], [MAMH], [SOLUONG], [GIACA]) VALUES (N'HD0007', N'BEO002', 2, 25000)
INSERT [dbo].[CHITIETHOADON] ([MAHD], [MAMH], [SOLUONG], [GIACA]) VALUES (N'HD0008', N'AVS003', 3, 20000)
GO
INSERT [dbo].[HOADON] ([MAHD], [MABAN], [MANV], [THOIGIAN]) VALUES (N'HD0001', 4, N'NV003', CAST(N'2024-05-19T12:35:10.000' AS DateTime))
INSERT [dbo].[HOADON] ([MAHD], [MABAN], [MANV], [THOIGIAN]) VALUES (N'HD0002', 3, N'NV003', CAST(N'2024-05-19T13:27:24.000' AS DateTime))
INSERT [dbo].[HOADON] ([MAHD], [MABAN], [MANV], [THOIGIAN]) VALUES (N'HD0003', 10, N'NV003', CAST(N'2024-05-20T15:30:06.000' AS DateTime))
INSERT [dbo].[HOADON] ([MAHD], [MABAN], [MANV], [THOIGIAN]) VALUES (N'HD0004', 3, N'NV002', CAST(N'2024-05-20T15:37:20.000' AS DateTime))
INSERT [dbo].[HOADON] ([MAHD], [MABAN], [MANV], [THOIGIAN]) VALUES (N'HD0005', 5, N'NV001', CAST(N'2024-05-20T15:40:02.000' AS DateTime))
INSERT [dbo].[HOADON] ([MAHD], [MABAN], [MANV], [THOIGIAN]) VALUES (N'HD0006', 8, N'NV002', CAST(N'2024-05-22T11:44:45.000' AS DateTime))
INSERT [dbo].[HOADON] ([MAHD], [MABAN], [MANV], [THOIGIAN]) VALUES (N'HD0007', 2, N'NV003', CAST(N'2024-05-22T11:46:09.000' AS DateTime))
INSERT [dbo].[HOADON] ([MAHD], [MABAN], [MANV], [THOIGIAN]) VALUES (N'HD0008', 5, N'NV003', CAST(N'2024-05-31T12:54:31.000' AS DateTime))
GO
INSERT [dbo].[LOAIMATHANG] ([MALOAI], [TENLOAI]) VALUES (N'AVS', N'Ăn vặt & snack')
INSERT [dbo].[LOAIMATHANG] ([MALOAI], [TENLOAI]) VALUES (N'BEO', N'Béo')
INSERT [dbo].[LOAIMATHANG] ([MALOAI], [TENLOAI]) VALUES (N'DANG', N'Đắng')
INSERT [dbo].[LOAIMATHANG] ([MALOAI], [TENLOAI]) VALUES (N'DTS', N'Điểm Tâm Sáng')
INSERT [dbo].[LOAIMATHANG] ([MALOAI], [TENLOAI]) VALUES (N'ICB', N'Ice Blended')
INSERT [dbo].[LOAIMATHANG] ([MALOAI], [TENLOAI]) VALUES (N'SODA', N'Soda')
INSERT [dbo].[LOAIMATHANG] ([MALOAI], [TENLOAI]) VALUES (N'THANH', N'Thanh')
INSERT [dbo].[LOAIMATHANG] ([MALOAI], [TENLOAI]) VALUES (N'TUOI', N'Tươi')
INSERT [dbo].[LOAIMATHANG] ([MALOAI], [TENLOAI]) VALUES (N'YOGURT', N'Yogurt')
GO
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS001', N'Xúc xích Đức', 10000, N'Cái', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS002', N'Phô mai que', 10000, N'Đĩa', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS003', N'Bánh tráng cuộn bơ', 20000, N'Cái', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS004', N'Bánh tráng chấm me', 20000, N'Cái', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS005', N'Bánh tráng trộn', 20000, N'Cái', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS006', N'Bắp xào', 20000, N'Đĩa', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS007', N'Khoai tây chiên', 20000, N'Đĩa', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS008', N'Xoài lắc', 20000, N'Đĩa', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS009', N'Trứng cút sốt me', 25000, N'Đĩa', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS010', N'Mẹt chiên thập cẩm (vừa)', 40000, N'Mẹt', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS011', N'Mẹt chiên thập cẩm (lớn)', 50000, N'Mẹt', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS012', N'Bánh tráng bơ/dẻo tôm muối tắc', 12000, N'Cái', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS013', N'Bánh tráng muối tắc/xì ke', 10000, N'Cái', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS014', N'Hạt dưa/hướng dương', 10000, N'Đĩa', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS015', N'Khô gà', 15000, N'Đĩa', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'AVS016', N'Xúc xích Mỹ', 10000, N'Cái', N'AVS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'BEO001', N'Sữa tươi trân châu đường đen', 28000, N'Ly', N'BEO')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'BEO002', N'Trà sữa truyền thống trân châu đen', 25000, N'Ly', N'BEO')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'BEO003', N'Trà sữa thái xanh trân châu đen', 25000, N'Ly', N'BEO')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'BEO004', N'Trà sữa phủ kem Oreo', 35000, N'Ly', N'BEO')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'BEO005', N'Trà sữa kem Marshmalow', 35000, N'Ly', N'BEO')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'BEO006', N'Trà sữa si cu la', 35000, N'Ly', N'BEO')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DANG001', N'Cà phê đen truyền thống', 15000, N'Ly', N'DANG')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DANG002', N'Cà phê đen Bốn mùa', 18000, N'Ly', N'DANG')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DANG003', N'Cà phê sữa truyền thống', 17000, N'Ly', N'DANG')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DANG004', N'Cà phê sữa Bốn mùa', 20000, N'Ly', N'DANG')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DANG005', N'Bạc xỉu/Cacao', 25000, N'Ly', N'DANG')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DANG006', N'Cà phê cốt dừa đá xay', 28000, N'Ly', N'DANG')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DANG007', N'Cacao cốt dừa đá xay', 28000, N'Ly', N'DANG')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DANG008', N'Cà phê kem muối', 30000, N'Ly', N'DANG')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DANG009', N'Cà phê kem trứng', 30000, N'Ly', N'DANG')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DTS001', N'Bánh mì nướng muối ớt', 20000, N'Cái', N'DTS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DTS002', N'Cơm chiên cháy tỏi/muối é/ trứng', 18000, N'Cái', N'DTS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DTS003', N'Mì tôm nhà Góc', 23000, N'Cái', N'DTS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DTS004', N'Ốp la bánh mì', 23000, N'Cái', N'DTS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DTS005', N'Bánh mì xíu mại', 25000, N'Cái', N'DTS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DTS006', N'Bò né (phần nhỏ)', 27000, N'Cái', N'DTS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DTS007', N'Bò né (phần lớn)', 35000, N'Cái', N'DTS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DTS008', N'Bánh mì thêm', 5000, N'Cái', N'DTS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'DTS009', N'Trừng rán thêm', 5000, N'Cái', N'DTS')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'ICB001', N'Chocolate đá xay', 30000, N'Ly', N'ICB')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'ICB002', N'Chocolate cookie đá xay', 35000, N'Ly', N'ICB')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'ICB003', N'Cà phê cookie đá xay', 35000, N'Ly', N'ICB')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'ICB004', N'Matcha đá xay', 35000, N'Ly', N'ICB')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'SODA001', N'Soda Blue Lychee', 25000, N'Ly', N'SODA')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'SODA002', N'Soda Vải', 25000, N'Ly', N'SODA')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'SODA003', N'Soda Chanh dây', 25000, N'Ly', N'SODA')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'SODA004', N'Soda Purple', 25000, N'Ly', N'SODA')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'THANH001', N'Trà đào', 27000, N'Ly', N'THANH')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'THANH002', N'Trà vải hoa hồng', 27000, N'Ly', N'THANH')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'THANH003', N'Trà xoài chanh dây', 32000, N'Ly', N'THANH')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'THANH004', N'Trà ổi hồng thạch dừa', 32000, N'Ly', N'THANH')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'THANH005', N'Trà hoa rừng (nóng)', 30000, N'Ly', N'THANH')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'THANH006', N'Trà hoa quả nhiệt đới', 32000, N'Ly', N'THANH')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'THANH007', N'Trà nhà Góc', 32000, N'Ly', N'THANH')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'TUOI001', N'Cà rốt', 27000, N'Ly', N'TUOI')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'TUOI002', N'Ôỉ', 27000, N'Ly', N'TUOI')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'TUOI003', N'Cam', 30000, N'Ly', N'TUOI')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'TUOI004', N'Chanh sữa', 25000, N'Ly', N'TUOI')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'TUOI005', N'Chanh dây sữa', 30000, N'Ly', N'TUOI')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'TUOI006', N'Đá chanh', 20000, N'Ly', N'TUOI')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'YOGURT001', N'Yogurt Phúc Bồn Tử/Kiwi', 32000, N'Ly', N'YOGURT')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'YOGURT002', N'Yogurt Việt quất/Xoài', 32000, N'Ly', N'YOGURT')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'YOGURT003', N'Yogurt đác rim', 32000, N'Ly', N'YOGURT')
INSERT [dbo].[MENU] ([MAMH], [TENMH], [GIACA], [DVT], [MALOAI]) VALUES (N'YOGURT004', N'Yogurt đá chanh', 28000, N'Ly', N'YOGURT')
GO
INSERT [dbo].[NHANVIEN] ([MANV], [HONV], [TENNV], [EMAIL], [DIACHI], [MATKHAU], [CHUCVU], [GIOITINH], [SDT], [CCCD]) VALUES (N'NV001', N'Nguyễn Đình', N'Hiệu', N'hieu@gmail.com', N'Đắk lắk', N'123', N'Nhân Viên', 1, N'0901983555', N'056444111222')
INSERT [dbo].[NHANVIEN] ([MANV], [HONV], [TENNV], [EMAIL], [DIACHI], [MATKHAU], [CHUCVU], [GIOITINH], [SDT], [CCCD]) VALUES (N'NV002', N'Phan Châu Hải', N'Lâm', N'lam@gmail.com', N'Khánh Hoà', N'123', N'Quản Lý', 1, N'0904564654', N'056444111724')
INSERT [dbo].[NHANVIEN] ([MANV], [HONV], [TENNV], [EMAIL], [DIACHI], [MATKHAU], [CHUCVU], [GIOITINH], [SDT], [CCCD]) VALUES (N'NV003', N'Nguyễn Trần Việt', N'Hoàng', N'hoang@gmail.com', N'Khánh Hoà', N'123', N'Nhân Viên', 1, N'0415456465', N'056203444111')
GO
ALTER TABLE [dbo].[CHITIETHOADON]  WITH CHECK ADD  CONSTRAINT [FK_CHITIETH_CHI_TIET__MENU] FOREIGN KEY([MAMH])
REFERENCES [dbo].[MENU] ([MAMH])
GO
ALTER TABLE [dbo].[CHITIETHOADON] CHECK CONSTRAINT [FK_CHITIETH_CHI_TIET__MENU]
GO
ALTER TABLE [dbo].[CHITIETHOADON]  WITH CHECK ADD  CONSTRAINT [FK_CHITIETH_PHIEU_XUA_HOADON] FOREIGN KEY([MAHD])
REFERENCES [dbo].[HOADON] ([MAHD])
GO
ALTER TABLE [dbo].[CHITIETHOADON] CHECK CONSTRAINT [FK_CHITIETH_PHIEU_XUA_HOADON]
GO
ALTER TABLE [dbo].[HOADON]  WITH CHECK ADD  CONSTRAINT [FK_HOADON_BAN_PHIEU_BAN] FOREIGN KEY([MABAN])
REFERENCES [dbo].[BAN] ([MABAN])
GO
ALTER TABLE [dbo].[HOADON] CHECK CONSTRAINT [FK_HOADON_BAN_PHIEU_BAN]
GO
ALTER TABLE [dbo].[HOADON]  WITH CHECK ADD  CONSTRAINT [FK_HOADON_NHAN_VIEN_NHANVIEN] FOREIGN KEY([MANV])
REFERENCES [dbo].[NHANVIEN] ([MANV])
GO
ALTER TABLE [dbo].[HOADON] CHECK CONSTRAINT [FK_HOADON_NHAN_VIEN_NHANVIEN]
GO
ALTER TABLE [dbo].[MENU]  WITH CHECK ADD  CONSTRAINT [FK_MENU_REFERENCE_LOAIMATH] FOREIGN KEY([MALOAI])
REFERENCES [dbo].[LOAIMATHANG] ([MALOAI])
GO
ALTER TABLE [dbo].[MENU] CHECK CONSTRAINT [FK_MENU_REFERENCE_LOAIMATH]
GO
/****** Object:  StoredProcedure [dbo].[HoaDon_TimKiem]    Script Date: 13/10/2024 7:53:10 SA ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[HoaDon_TimKiem]
    @MAHD varchar(10) = NULL,
    @MABAN varchar(10) = NULL,
    @NGAYmin varchar(30) = NULL,
    @NGAYmax varchar(30) = NULL,
    @MANV varchar(10) = NULL
AS
BEGIN
    DECLARE @SqlStr NVARCHAR(4000)
    DECLARE @ParamList NVARCHAR(2000)
    
    -- Base SQL query
    SELECT @SqlStr = '
        SELECT * 
        FROM HOADON
        WHERE (1=1)
    '
    
    -- Add conditions dynamically
    IF @MAHD IS NOT NULL
        SELECT @SqlStr = @SqlStr + ' AND MAHD LIKE @MAHD'
    
    IF @MABAN IS NOT NULL
        SELECT @SqlStr = @SqlStr + ' AND MABAN LIKE @MABAN'
    
    IF @NGAYmin IS NOT NULL AND @NGAYmax IS NOT NULL
        SELECT @SqlStr = @SqlStr + ' AND THOIGIAN BETWEEN CONVERT(datetime, @NGAYmin) AND CONVERT(datetime, @NGAYmax)'
    
    IF @MANV IS NOT NULL
        SELECT @SqlStr = @SqlStr + ' AND MANV LIKE @MANV'
    
    EXEC sp_executesql @SqlStr
END
GO
/****** Object:  StoredProcedure [dbo].[Menu_TimKiem]    Script Date: 13/10/2024 7:53:10 SA ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[Menu_TimKiem]
    @MAMH varchar(10)=NULL,
	@TENMH nvarchar(200)=NULL,
	@GIACAmin varchar(30) = NULL,
	@GIACAmax varchar(30) = NULL,
	@DVT varchar(10)=NULL,
	@MALOAI varchar(10)=NULL
AS
BEGIN
DECLARE @SqlStr NVARCHAR(4000),
		@ParamList nvarchar(2000)
SELECT @SqlStr = '
       SELECT * 
       FROM MENU
       WHERE  (1=1)
       '
IF @MAMH IS NOT NULL
       SELECT @SqlStr = @SqlStr + '
              AND (MAMH LIKE ''%'+@MaMH+'%'')
              '
IF @TENMH IS NOT NULL
       SELECT @SqlStr = @SqlStr + '
              AND (TENMH LIKE ''%'+@TENMH+'%'')
              '
IF @GIACAmin IS NOT NULL and @GIACAmax IS NOT NULL
       SELECT @SqlStr = @SqlStr + '
             AND (GIACA Between Convert(int,'''+@GIACAmin+''') AND Convert(int, '''+@GIACAmax+'''))
             '
IF @DVT IS NOT NULL
       SELECT @SqlStr = @SqlStr + '
             AND (DVT LIKE ''%'+@DVT+'%'')
             '
IF @MALOAI IS NOT NULL
       SELECT @SqlStr = @SqlStr + '
              AND (MALOAI LIKE ''%'+@MALOAI+'%'')
              '
	EXEC SP_EXECUTESQL @SqlStr
END
GO
